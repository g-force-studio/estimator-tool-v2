Current focus:
- Improve AI material selection using pricing catalog retrieval.
- Keep PDFs and job status consistent after re-submission.

What's working:
- Centered modal loading toast for job creation and estimate submission.
- iOS PDF open uses same-tab navigation; desktop uses standard popup.
- Draft-only description visibility restored.

What's broken / pending:
- Pricing_materials catalog only impacts new estimates; requires re-submit.
- Edge Functions (generate-pdf) must be deployed for latest PDF cleanup to apply.
- Trade mismatches between workspace and pricing_materials can cause empty catalog.

Latest files touched:
- app/api/jobs/[id]/estimate/route.ts
- app/jobs/[id]/page.tsx
- app/home-content.tsx
- app/jobs/new/page.tsx
- supabase/functions/generate-pdf/index.ts

Commands to run locally:
- npm run build
- Re-submit estimate to apply pricing changes

Next 3 concrete steps:
1) Deploy updated generate-pdf Edge Function.
2) Re-run estimate to apply catalog retrieval and fuzzy matching.
3) Verify PDF regeneration keeps only the latest file.
