Current focus:
- Restore accurate pricing (global fallback vs workspace pricing) and eliminate duplicates after resubmits.
- Use estimate debug logs to confirm pricing branch selection and row counts.

What's working:
- workspace_pricing_materials works when workspace_pricing_id is set and data is loaded.
- workspace_pricing_id routing exists in estimate flow (customer override -> workspace -> global fallback).
- Header now shows workspace name as title with RelayKit subtitle on Home/Jobs.

What's broken / pending:
- Global pricing fallback (pricing_materials) not populating when workspace_pricing_id is unset; root cause pending debug logs.
- No dedupe or pricing sanity checks yet; duplicates and scale errors still possible.

Latest files touched:
- app/page.tsx
- app/jobs/page.tsx
- NOTES.md
- code_state.txt

Commands to run locally:
- npm run build

Next 3 concrete steps:
1) Re-submit estimate with ?debug=1 and capture logs for workspace_pricing_id set/unset.
2) Confirm workspace_pricing_id migration and data seeding in Supabase.
3) Implement dedupe of AI items vs user line items and pricing sanity checks.
