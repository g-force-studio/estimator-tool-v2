Current focus:
- Resolve pdf-link request/auth mismatch and confirm Open PDF works in Netlify.
- Decide whether pdf-link should require JWT + workspace membership checks.

What's working:
- PDF generation creates storage_path in job_files for private bucket flow.
- Job detail PDF open uses supabase.functions.invoke with POST body.
- Home list PDF open posts JSON body to pdf-link and opens signed URL when returned.

What's broken / pending:
- pdf-link currently has no JWT or workspace membership validation.
- Verbose PDF link logs remain and may leak sensitive metadata.

Latest files touched:
- app/jobs/[id]/page.tsx
- app/home-content.tsx
- supabase/functions/pdf-link/index.ts
- NOTES.md
- code_state.txt

Commands to run locally:
- supabase functions deploy pdf-link

Last successful end-to-end test:
- PDF generation succeeded; Open PDF requires re-test after POST alignment.

Next 3 concrete steps:
1) Deploy pdf-link Edge Function and retest Open PDF from job detail and home list.
2) Decide on JWT + membership enforcement for pdf-link and implement if required.
3) Remove or gate verbose PDF logs after verification.
