Current focus:
- Verify Vercel deploy after middleware guard and finish OpenAI estimate flow test.

What's working:
- Build passes locally.
- Middleware now skips Supabase auth logic if required env vars are missing.

What's broken:
- Vercel deployment previously failed with MIDDLEWARE_INVOCATION_FAILED; needs re-test.
- OpenAI estimate flow still not validated end-to-end.
- GitHub push still pending (network restrictions).

Latest files touched:
- middleware.ts
- NOTES.md
- code_state.txt

Commands to run locally:
- npm run build

Last successful end-to-end test:
- Line item edit/save works after RLS policy fix.

Next 3 concrete steps:
1) Redeploy to Vercel and confirm middleware error is resolved.
2) Test Submit â†’ OpenAI estimate flow with photos.
3) Retry `git push` once network access is enabled.
