Current focus:
- Workspace-specific pricing overrides with customer-specific prompt support.
- Simplified CSV import flow for pricing materials.

What's working:
- PDF line item spacing accounts for wrapped descriptions.
- Customer-aware prompt selection and pricing override fallback (customer → workspace → default).
- CSV import endpoint supports batch inserts and import-token auth.

What's broken / pending:
- Supabase migration for customers/workspace_pricing_materials not yet applied.
- Netlify needs IMPORT_TOKEN env var and redeploy.
- job.customer_id has no UI yet; must be set via API or workflow.

Latest files touched:
- app/api/pricing-materials/import/route.ts
- app/api/customers/route.ts
- app/api/jobs/[id]/customer/route.ts
- app/api/jobs/[id]/estimate/route.ts
- lib/prompts.ts
- supabase/migrations/20260128_add_customers_and_workspace_pricing_materials.sql
- supabase/schema.sql
- lib/supabase/database.types.ts

Commands to run locally:
- npm run build
- curl -i -X POST https://<app>/api/pricing-materials/import \
  -H "x-import-token: <IMPORT_TOKEN>" \
  -F "workspace_id=<WORKSPACE_ID>" \
  -F "trade=general_contractor" \
  -F "file=@/path/to/pricing.csv"

Next 3 concrete steps:
1) Apply supabase/migrations/20260128_add_customers_and_workspace_pricing_materials.sql.
2) Set IMPORT_TOKEN in Netlify and redeploy.
3) Import pricing CSV and verify override pricing on a new estimate.
